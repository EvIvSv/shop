<?php//// Менеджер категорий//class M_Category{	private static $instance; 	// ссылка на экземпляр класса	private $msql; 				// драйвер БД		//	// Получение единственного экземпляра (одиночка)	//	public static function Instance()	{		if (self::$instance == null)			self::$instance = new M_Category();				return self::$instance;	}	//	// Конструктор	//	public function __construct()	{		$this->msql = MSQL::Instance();	}		//	// Список всех категорий	//	public function All()	{		$query = "SELECT * 				  FROM category 				  ORDER BY id_cat DESC";				  		return $this->msql->Select($query);	}	//	// Конкретная категория	//	public function Get($id_cat)	{		// Запрос.		$t = "SELECT * 			  FROM  category			  WHERE id_cat = '%d'";			  		$query = sprintf($t, $id_cat);		$result = $this->msql->Select($query);		return $result[0];	}	//	// Добавить категорию	//	public function Add($id_cat, $cat_name, $har1, $har2, $har3, $har4, $har5)	{		// Подготовка.		$pro_name = trim($cat_name);		$har1 = trim($har1);		$har2 = trim($har2);		$har3 = trim($har3);		$har4 = trim($har4);		$har5 = trim($har5);		// Проверка.		if ($cat_name == '')			return false;		if ($id_cat == '')			return false;				// Запрос.		$obj = array();		$obj['cat_name'] = $cat_name;		$obj['har1'] = $har1;		$obj['har2'] = $har2;		$obj['har3'] = $har3;		$obj['har4'] = $har4;		$obj['har5'] = $har5;				$this->msql->Insert('category', $obj);		return true;	}	//	// Изменить категорию	//	public function Edit($id_cat, $cat_name, $har1, $har2, $har3, $har4, $har5)	{		// Подготовка.		$cat_name = trim($cat_name);		$har1 = trim($har1);		$har2 = trim($har2);		$har3 = trim($har3);		$har4 = trim($har4);		$har5 = trim($har5);		// Проверка.		if ($cat_name == '')			return false;				$obj = array();		$obj['cat_name'] = $cat_name;		$obj['har1'] = $har1;		$obj['har2'] = $har2;		$obj['har3'] = $har3;		$obj['har4'] = $har4;		$obj['har5'] = $har5;				$t = "id_cat = '%d'";				$where = sprintf($t, $id_cat);				$this->msql->Update('category', $obj, $where);		return true;	}	//	// Удалить категорию.	//	public function Delete($id_cat)	{		// Запрос.		$t = "id_cat = '%d'";				$where = sprintf($t, $id_cat);				$this->msql->Delete('category', $where);		return true;	}}